#summary Unstalling USB modem on linksys wrt160nl

= Introduction =

  # Install stock image
  # remove kmod-usb-ohci
  # install usbutils kmod-usb-serial kmod-usb2 kmod-usb-uhci usb-modeswitch usb-modeswitch-data comgt (auto-installed dependencies libusb zlib chat)
  # edit /etc/modules.d/60-usb-serial
{{{
usbserial vendor=0x19d3 product=0xfff1 maxSize=4096
}}}
  # Mod network settings:
{{{
config interface wan                                                                                                                  
        option ifname   ppp0                                                                                                          
        option proto    3g                                                                                                            
        option auto     1                                                                                                             
        option service  evdo                                                                                                          
        option device   /dev/ttyUSB0                                                                                                  
        option apn      orange.co.ke                                                                                                  
        option username <phone #>                                                                                                   
        option password <pin>
}}}



Now your device should be recognised and have the correct device type (0xfff1 - read from lsusb)

NOTES:

on reboot, device is recognized after a while (I think).  In it's base state light blinks red. you have to manually switch it (usb_modeswitch /etc/usb_modeswitch.d/19d2\:fff5), then ifup wan works and turns light fast blinking green.


= Details =

Add your content here.  Format your content with:
  * Text in *bold* or _italic_
  * Headings, paragraphs, and lists
  * Automatic links to other wiki pages